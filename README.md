# WeChat Mini Program Jump Relay Page (微信小程序跳转中继页)

## 项目简介 (Project Introduction)

本项目是一个部署在 **微信云开发 (WeChat CloudBase)** 静态网站托管环境下的中继页面。其主要作用是作为 **作品集项目小程序** 与 **目标小程序** 之间的跳转桥梁。

因微信官方跳转限制，故需要单独部署。
官方文档地址：https://developers.weixin.qq.com/miniprogram/dev/wxcloud/guide/staticstorage/jump-miniprogram.html

通过对接微信开放标签（WeChat Open Tags）与云开发免鉴权机制，实现在微信环境内（如小程序 Webview、微信内置浏览器）流畅地跳转至指定的小程序页面。

## 核心功能 (Core Features)

*   **中继跳转**：作为中间页，接收来自“作品集项目”小程序的跳转请求。
*   **微信能力对接**：集成 `wx-open-launch-weapp` 开放标签，实现小程序间的无缝唤起。
*   **云开发集成**：利用 CloudBase 静态托管特性，实现免鉴权（Identityless）调用微信 JS-SDK，简化签名流程。
*   **URL 自动清洗**：自动检测并修复因复制粘贴导致的 URL 污染（如多余的 Markdown 括号 `[]` 或换行符），确保鉴权成功。

## 工作流程 (Workflow)

1.  **触发入口**：用户在“作品集项目”小程序的卡片或链接中点击跳转。
2.  **页面加载**：
    *   请求被重定向至当前托管在 CloudBase 的静态页面（`index.html`）。
    *   **自动清洗**：如果 URL 中包含 `[]`、`,` 或换行符，脚本会自动重定向到纯净的 URL。
3.  **环境初始化**：页面加载 `cloud.js` 并初始化云开发环境，自动完成微信 JS-SDK 的鉴权配置。
4.  **渲染跳转按钮**：页面展示 `<wx-open-launch-weapp>` 开放标签（通常表现为一个点击按钮或透明覆盖层）。
5.  **完成跳转**：用户点击或自动触发后，微信客户端唤起目标小程序。

## 部署信息 (Deployment Information)

*   **代码仓库**：GitHub
*   **部署环境**：微信云开发 (WeChat CloudBase) - 静态网站托管
*   **依赖服务**：
    *   微信 JS-SDK (`jweixin-1.6.0.js`)
    *   云开发 Web SDK (`cloud.js`)

### ⚠️ 重要提示：域名访问限制

*   **测试域名限制**：使用云开发提供的默认测试域名（如 `*.tcloudbaseapp.com`）时，极易触发**“当前访问量已达上限”**或**“风险提醒”**拦截页面。
    *   一旦被拦截，返回的内容是腾讯云的提示页而非本项目代码，**所有跳转功能和修复逻辑将失效**。
    *   报错表现：页面显示风险提示，或控制台报错 `config:invalidsignature`（因为拦截页未配置鉴权）。
*   **解决方案**：**强烈建议绑定自定义域名**。
    *   绑定自定义域名后，可绕过测试域名的访问限制和拦截，确保页面代码正常加载，从而使免鉴权和 URL 修复逻辑生效。
*   **访问策略**：
    *   必须通过云开发分配的域名（测试或自定义）访问，以确保免鉴权机制生效。
    *   仅支持在微信客户端环境（MicroMessenger）中运行，非微信环境将显示提示信息。
